<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang='en'>
  <head>
    <title>: LibXML::XML::Parser [LibXML]</title>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
    <link href='../../../rdoc-style.css' media='screen' rel='stylesheet' type='text/css'>
    <script type='text/javascript'>
      //<![CDATA[
        function popupCode(url) {
          window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
        }
        
        function toggleCode(id) {
          var code = document.getElementById(id)
        
          code.style.display = code.style.display != 'block' ? 'block' : 'none'
          return true
        }
        
        // Make codeblocks hidden by default
        document.writeln('<' + 'style type="text/css">.method .source pre { display: none }<\/style>')
      //]]>
    </script>
  </head>
  <body class='page'>
    <div class='class' id='wrapper'>
      <div class='header'>
        <h1 class='name'>
          <span class='type'>Class</span>
          LibXML::XML::Parser
        </h1>
        <ol class='paths'>
          <li>
            <a href="../../../files/ext/libxml/libxml_c.html">ext/libxml/libxml.c</a>
          </li>
          <li class='other'>
            <a href="../../../files/lib/libxml/parser_rb.html">lib/libxml/parser.rb</a>
          </li>
          <li>
            <a class='show' href='#' onclick='this.parentNode.parentNode.className += " expanded"; this.parentNode.removeChild(this); return false'>show all</a>
          </li>
        </ol>
        <div class='parent'>
          Parent:
          <strong>Object</strong>
        </div>
      </div>
      <div id='content'>
        <div id='text'>
          <div id='description'>
            <p>
            The <a href="Parser.html">XML::Parser</a> provides a tree based API for
            processing xml documents, in contract to XML::Reader&#8217;s stream based
            api and <a href="SaxParser.html">XML::SaxParser</a> callback based API.
            </p>
            <p>
            As a result, parsing a document creates an in-memory document object that
            consist of any number of <a href="Node.html">XML::Node</a> instances. This
            is simple and powerful model, but has the major limitation that the size of
            the document that can be processed is limited by the amount of memory
            available. In such cases, it is better to use the <a
            href="Reader.html">XML::Reader</a>.
            </p>
            <p>
            Using the parser is simple:
            </p>
            <pre>parser = XML::Parser.file('my_file')&#x000A;doc = parser.parse</pre>
            <p>
            You can also parse documents (see <a
            href="Parser.html#M000100">XML::Parser.document</a>), strings (see <a
            href="Parser.html#M000103">XML::Parser.string</a>) and io objects (see <a
            href="Parser.html#M000102">XML::Parser.io</a>).
            </p>
          </div>
          <div id='method-list'>
            <h2>Methods</h2>
            <h3>public class</h3>
            <ol>
              <li><a href="#M000100">document</a></li>
              <li>
                <a href="#M000101">file<br />
                :options</a>
              </li>
              <li>
                <a href="#M000102">io<br />
                :options<br />
                :base_uri="http://libxml.org")</a>
              </li>
              <li><a href="#M000098">initialize</a></li>
              <li><a href="#M000104">register_error_handler</a></li>
              <li>
                <a href="#M000103">string<br />
                :options<br />
                :base_uri="http://libxml.org")</a>
              </li>
            </ol>
            <h3>public instance</h3>
            <ol>
              <li><a href="#M000099">parse</a></li>
            </ol>
          </div>
          <div id='section'>
            <div id='class-list'>
              <h2>Classes and Modules</h2>
              Module <a href="Parser/Options.html" class="link">LibXML::XML::Parser::Options</a><br />
            </div>
            <div id='attribute-list'>
              <h2 class='section-bar'>Attributes</h2>
              <div class='name-list'>
                <table>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>context</td>
                    <td class='context-item-value'>[R]</td>
                    <td class='context-item-desc'></td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>input</td>
                    <td class='context-item-value'>[R]</td>
                    <td class='context-item-desc'></td>
                  </tr>
                </table>
              </div>
            </div>
            <div id='methods'>
              <h2>Public class methods</h2>
              <div class='method public-class' id='method-M000100'>
                <a name='M000100'></a>
                <div class='synopsis'>
                  <span class='name'>XML::Parser.document(document) &rarr; XML::Parser<br /></span>
                </div>
                <div class='description'>
                  <p>
                  Creates a new parser for the specified document.
                  </p>
                  <p>
                  Parameters:
                  </p>
                  <pre>document - A preparsed document.</pre>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000100-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000100-source'>    <span class="ruby-comment cmt"># File lib/libxml/parser.rb, line 14</span>&#x000A;14:       <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">document</span>(<span class="ruby-identifier">doc</span>)&#x000A;15:         <span class="ruby-identifier">context</span> = <span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Parser</span><span class="ruby-operator">::</span><span class="ruby-constant">Context</span>.<span class="ruby-identifier">document</span>(<span class="ruby-identifier">doc</span>)&#x000A;16:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">context</span>)&#x000A;17:       <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-class' id='method-M000101'>
                <a name='M000101'></a>
                <div class='synopsis'>
                  <span class='name'>
                    XML::Parser.file(path) &rarr; XML::Parser<br />
                    XML::Parser.file(path, :encoding => XML::Encoding::UTF_8,<br />
                    :options => XML::Parser::Options::NOENT) &rarr; XML::Parser<br />
                  </span>
                </div>
                <div class='description'>
                  <p>
                  Creates a new parser for the specified file or uri.
                  </p>
                  <p>
                  You may provide an optional hash table to control how the parsing is
                  performed. Valid options are:
                  </p>
                  <pre>encoding - The document encoding, defaults to nil. Valid values&#x000A;           are the encoding constants defined on XML::Encoding.&#x000A;options - Parser options.  Valid values are the constants defined on&#x000A;          XML::Parser::Options.  Mutliple options can be combined&#x000A;          by using Bitwise OR (|).</pre>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000101-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000101-source'>    <span class="ruby-comment cmt"># File lib/libxml/parser.rb, line 34</span>&#x000A;34:       <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">file</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">options</span> = {})&#x000A;35:         <span class="ruby-identifier">context</span> = <span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Parser</span><span class="ruby-operator">::</span><span class="ruby-constant">Context</span>.<span class="ruby-identifier">file</span>(<span class="ruby-identifier">path</span>)&#x000A;36:         <span class="ruby-identifier">context</span>.<span class="ruby-identifier">encoding</span> = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:encoding</span>] <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:encoding</span>]&#x000A;37:         <span class="ruby-identifier">context</span>.<span class="ruby-identifier">options</span> = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:options</span>] <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:options</span>]&#x000A;38:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">context</span>)&#x000A;39:       <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-class' id='method-M000102'>
                <a name='M000102'></a>
                <div class='synopsis'>
                  <span class='name'>
                    XML::Parser.io(io) &rarr; XML::Parser<br />
                    XML::Parser.io(io, :encoding => XML::Encoding::UTF_8,<br />
                    :options => XML::Parser::Options::NOENT<br />
                    :base_uri="http://libxml.org") &rarr; XML::Parser<br />
                  </span>
                </div>
                <div class='description'>
                  <p>
                  Creates a new parser for the specified io object.
                  </p>
                  <p>
                  Parameters:
                  </p>
                  <pre>io - io object that contains the xml to parser&#x000A;base_uri - The base url for the parsed document.&#x000A;encoding - The document encoding, defaults to nil. Valid values&#x000A;           are the encoding constants defined on XML::Encoding.&#x000A;options - Parser options.  Valid values are the constants defined on&#x000A;          XML::Parser::Options.  Mutliple options can be combined&#x000A;          by using Bitwise OR (|).</pre>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000102-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000102-source'>    <span class="ruby-comment cmt"># File lib/libxml/parser.rb, line 58</span>&#x000A;58:       <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">io</span>(<span class="ruby-identifier">io</span>, <span class="ruby-identifier">options</span> = {})&#x000A;59:         <span class="ruby-identifier">context</span> = <span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Parser</span><span class="ruby-operator">::</span><span class="ruby-constant">Context</span>.<span class="ruby-identifier">io</span>(<span class="ruby-identifier">io</span>)&#x000A;60:         <span class="ruby-identifier">context</span>.<span class="ruby-identifier">base_uri</span> = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:base_uri</span>] <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:base_uri</span>]&#x000A;61:         <span class="ruby-identifier">context</span>.<span class="ruby-identifier">encoding</span> = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:encoding</span>] <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:encoding</span>]&#x000A;62:         <span class="ruby-identifier">context</span>.<span class="ruby-identifier">options</span> = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:options</span>] <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:options</span>]&#x000A;63:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">context</span>)&#x000A;64:       <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-class' id='method-M000098'>
                <a name='M000098'></a>
                <div class='synopsis'>
                  <span class='name'>parser.initialize(context) &rarr; XML::Parser<br /></span>
                </div>
                <div class='description'>
                  <p>
                  Creates a new <a href="Parser.html">XML::Parser</a> from the specified
                  XML::Parser::Context.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000098-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000098-source'>static VALUE rxml_parser_initialize(int argc, VALUE *argv, VALUE self)&#x000A;{&#x000A;  VALUE context = Qnil;&#x000A;&#x000A;  rb_scan_args(argc, argv, &quot;01&quot;, &amp;context);&#x000A;&#x000A;  if (context == Qnil)&#x000A;  {&#x000A;    rb_warn(&quot;Passing no parameters to XML::Parser.new is deprecated.  Pass an instance of XML::Parser::Context instead.&quot;);&#x000A;    context = rb_class_new_instance(0, NULL, cXMLParserContext);&#x000A;  }&#x000A;&#x000A;  rb_ivar_set(self, CONTEXT_ATTR, context);&#x000A;  return self;&#x000A;}</pre>
                </div>
              </div>
              <div class='method public-class' id='method-M000104'>
                <a name='M000104'></a>
                <div class='synopsis'>
                  <span class='name'>register_error_handler</span>
                  <span class='arguments'>(proc)</span>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000104-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000104-source'>    <span class="ruby-comment cmt"># File lib/libxml/parser.rb, line 91</span>&#x000A;91:       <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">register_error_handler</span>(<span class="ruby-identifier">proc</span>)&#x000A;92:         <span class="ruby-identifier">warn</span>(<span class="ruby-value str">'Parser.register_error_handler is deprecated.  Use Error.set_handler instead'</span>)&#x000A;93:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">proc</span>.<span class="ruby-identifier">nil?</span>&#x000A;94:           <span class="ruby-constant">Error</span>.<span class="ruby-identifier">reset_handler</span>&#x000A;95:         <span class="ruby-keyword kw">else</span>&#x000A;96:           <span class="ruby-constant">Error</span>.<span class="ruby-identifier">set_handler</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">proc</span>)&#x000A;97:         <span class="ruby-keyword kw">end</span>&#x000A;98:       <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-class' id='method-M000103'>
                <a name='M000103'></a>
                <div class='synopsis'>
                  <span class='name'>
                    XML::Parser.string(string)<br />
                    XML::Parser.string(string, :encoding => XML::Encoding::UTF_8,<br />
                    :options => XML::Parser::Options::NOENT<br />
                    :base_uri="http://libxml.org") &rarr; XML::Parser<br />
                  </span>
                </div>
                <div class='description'>
                  <p>
                  Creates a new parser by parsing the specified string.
                  </p>
                  <p>
                  You may provide an optional hash table to control how the parsing is
                  performed. Valid options are:
                  </p>
                  <pre>base_uri - The base url for the parsed document.&#x000A;encoding - The document encoding, defaults to nil. Valid values&#x000A;           are the encoding constants defined on XML::Encoding.&#x000A;options - Parser options.  Valid values are the constants defined on&#x000A;          XML::Parser::Options.  Mutliple options can be combined&#x000A;          by using Bitwise OR (|).</pre>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000103-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000103-source'>    <span class="ruby-comment cmt"># File lib/libxml/parser.rb, line 83</span>&#x000A;83:       <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">string</span>(<span class="ruby-identifier">string</span>, <span class="ruby-identifier">options</span> = {})&#x000A;84:         <span class="ruby-identifier">context</span> = <span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Parser</span><span class="ruby-operator">::</span><span class="ruby-constant">Context</span>.<span class="ruby-identifier">string</span>(<span class="ruby-identifier">string</span>)&#x000A;85:         <span class="ruby-identifier">context</span>.<span class="ruby-identifier">base_uri</span> = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:base_uri</span>] <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:base_uri</span>]&#x000A;86:         <span class="ruby-identifier">context</span>.<span class="ruby-identifier">encoding</span> = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:encoding</span>] <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:encoding</span>]&#x000A;87:         <span class="ruby-identifier">context</span>.<span class="ruby-identifier">options</span> = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:options</span>] <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:options</span>]&#x000A;88:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">context</span>)&#x000A;89:       <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <h2>Public instance methods</h2>
              <div class='method public-instance' id='method-M000099'>
                <a name='M000099'></a>
                <div class='synopsis'>
                  <span class='name'>parser.parse &rarr; XML::Document<br /></span>
                </div>
                <div class='description'>
                  <p>
                  Parse the input <a href="../XML.html">XML</a> and create an <a
                  href="Document.html">XML::Document</a> with it&#8217;s content. If an error
                  occurs, XML::Parser::ParseError is thrown.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000099-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000099-source'>static VALUE rxml_parser_parse(VALUE self)&#x000A;{&#x000A;  xmlParserCtxtPtr ctxt;&#x000A;  VALUE context = rb_ivar_get(self, CONTEXT_ATTR);&#x000A;  &#x000A;  Data_Get_Struct(context, xmlParserCtxt, ctxt);&#x000A;&#x000A;  if ((xmlParseDocument(ctxt) == -1 || !ctxt-&gt;wellFormed) &amp;&amp; ! ctxt-&gt;recovery)&#x000A;  {&#x000A;    if (ctxt-&gt;myDoc)&#x000A;      xmlFreeDoc(ctxt-&gt;myDoc);&#x000A;    rxml_raise(&amp;ctxt-&gt;lastError);&#x000A;  }&#x000A;&#x000A;  return rxml_document_wrap(ctxt-&gt;myDoc);&#x000A;}</pre>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div id='footer-push'></div>
    </div>
    <div id='footer'>
      <a href="http://github.com/mislav/hanna/tree/master"><strong>Hanna</strong> RDoc template</a>
    </div>
  </body>
</html>
